!function(){"use strict";function t(t){this.__name=t,this.__rows=[],this.__maxCells=0,this.__aligns=[],this.__colMaxes=[],this.__spacing=1,this.setBorder()}var e=Array.prototype.slice,i=Object.prototype.toString,r="undefined"!=typeof require?require("colors"):null;t.VERSION="0.0.1",t.LEFT=0,t.CENTER=1,t.RIGHT=2,t.prototype.setBorder=function(){this.__border=!0,this.__edge="|",this.__fill="-"},t.prototype.removeBorder=function(){this.__border=!1,this.__edge=" ",this.__fill=" "},t.prototype.setAlign=function(t,e){return this.__aligns[t]=e,this},t.prototype.setAlignLeft=function(e){return this.setAlign(e,t.LEFT)},t.prototype.setAlignCenter=function(e){return this.setAlign(e,t.CENTER)},t.prototype.setAlignRight=function(e){return this.setAlign(e,t.RIGHT)},t.alignLeft=function(t,e,i){return!e||0>e?"":("undefined"==typeof t&&(t=""),"string"!=typeof t&&(t=t.toString()),t+Array(e+1-t.length).join(i))},t.alignCenter=function(e,i,n,s){if(!i||0>i)return"";"undefined"==typeof e&&(e=""),"string"!=typeof e&&(e=e.toString());var o=e.length,h=Math.floor(i/2-o/2),_=Math.abs(o%2-i%2),i=e.length;return s&&r&&(e=e[s]),t.alignRight("",h,n)+e+t.alignLeft("",h+_,n)},t.alignRight=function(t,e,i){return!e||0>e?"":("undefined"==typeof t&&(t=""),"string"!=typeof t&&(t=t.toString()),Array(e+1-t.length).join(i)+t)},t.alignAuto=function(e,r,n){"undefined"==typeof e&&(e="");var s=i.call(e);if(n||(n=" "),r=+r,"[object String]"!==s&&(e=e.toString()),e.length<r)switch(s){case"[object Number]":return t.alignRight(e,r,n);default:return t.alignLeft(e,r,n)}return e},t.arrayFill=function(t,e){for(var i=new Array(t),r=0;r!==t;r++)i[r]=e;return i},t.prototype.setTitle=function(t){return this.__name=t,this},t.prototype.sort=function(t){return this.__rows.sort(t),this},t.prototype.sortColumn=function(t,e){return this.__rows.sort(function(i,r){return e(i[t],r[t])}),this},t.prototype.setHeading=function(){return this.__heading=e.call(arguments),this},t.prototype.addRow=function(){var t=e.call(arguments);return this.__maxCells=Math.max(this.__maxCells,t.length),this.__rows.push(t),this},t.prototype.setJustify=function(t){return 0===arguments.length&&(t=!0),this.__justify=!!t,this},t.prototype.valueOf=t.prototype.toString=function(){for(var e,i=this,r=[],n=this.__maxCells,s=t.arrayFill(n,0),o=3*n,h=this.__rows,_=this.__border,a=this.__heading?[this.__heading].concat(h):h,l=0;l<a.length;l++)for(var u=a[l],p=0;n>p;p++){var g=u[p];s[p]=Math.max(s[p],g?g.toString().length:0)}this.__colMaxes=s,e=this.__justify?Math.max.apply(null,s):0,s.forEach(function(t){o+=e?e:t+i.__spacing}),e&&(o+=s.length),o-=this.__spacing,_&&r.push(this._seperator(o,".")),this.__name&&(r.push(this._renderTitle(o)),_&&r.push(this._seperator(o))),this.__heading&&(r.push(this._renderRow(this.__heading," ",t.CENTER,"cyan")),r.push(this._rowSeperator(n,this.__fill)));for(var l=0;l<this.__rows.length;l++)r.push(this._renderRow(this.__rows[l]," "));return _&&r.push(this._seperator(o,"'")),r.join("\n")},t.prototype._seperator=function(e,i){return i||(i=this.__edge),i+t.alignRight(i,e,this.__fill)},t.prototype._rowSeperator=function(){var e=t.arrayFill(this.__maxCells,"-");return this._renderRow(e,"-")},t.prototype._renderTitle=function(e){var i=t.alignCenter(this.__name,e," ");return i=i.substr(0,i.length-1),this.__edge+i+this.__edge},t.prototype._renderRow=function(e,i,r,n){for(var s=[""],o=this.__colMaxes,h=0;h<this.__maxCells;h++){var _=e[h],a=this.__justify?Math.max.apply(null,o):o[h],l=h===this.__maxCells-1?a:a+this.__spacing,u=this.__aligns[h],p=r,g="alignAuto";"undefined"==typeof r&&(p=u),p===t.LEFT&&(g="alignLeft"),p===t.CENTER&&(g="alignCenter"),p===t.RIGHT&&(g="alignRight"),s.push(t[g](_,l,i,n))}var f=s.join(i+this.__edge+i);return f=f.substr(1,f.length),f+i+this.__edge},"undefined"!=typeof exports?module.exports=t:this.AsciiTable=t}.call(this);